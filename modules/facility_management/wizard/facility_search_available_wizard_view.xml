<?xml version='1.0' encoding='utf-8'?>
<odoo noupdate="1">

    <record id="view_facility_search_available_wizard_form" model="ir.ui.view">
        <field name="name">Search available facilities</field>
        <field name="model">facility.search.available.wizard</field>
        <field name="type">form</field>
        <field name="mode">primary</field>
        <field name="priority" eval="16"/>
        <field name="active" eval="True"/>
        <field name="arch" type="xml">
            <form string="Search available facilities">
                <header>
                    <button name="view_facilities" string="&#160;Search" type="object"
                        icon="fa-search" help="Show found facilities in the whole window"
                        class="btn-primary"/>
                </header>

                <group col="6" id="schedule" string="Schedule">
                    <field name="date_base" class="oe_field_date_base"/>
                    <field name="weekday" class="oe_field_week_day text-info font-italic"
                        colspan="2" nolabel="1"/>
                    <field name="full_day" class="oe_field_full_day"/>

                    <field name="time_start" class="oe_field_time_start" widget="float_time"
                        invisible="full_day"/>
                    <field name="time_stop" class="oe_field_time_stop" widget="float_time"
                        invisible="full_day"/>
                    <field name="date_delay" class="oe_field_date_delay" widget="float_time"
                        invisible="full_day"/>
                </group>

                <group col="2" id="repeat" string="Repeat">
                    <group col="2" class="mt-0">
                        <field name="repeat" class="oe_field_repeat"/>
                        <field name="interval_number" class="oe_field_interval_number" min="1"
                            invisible="not repeat"/>

                        <separator colspan="2" invisible="not repeat"/>
                        <field name="finish_type" class="oe_field_finish_type"
                            invisible="not repeat"/>
                        <field name="finish_date" class="oe_field_finish_date"
                            invisible="(not repeat) or (finish_type != 'date')"/>
                        <field name="finish_number" class="oe_field_finish_number"
                            invisible="(not repeat) or (finish_type != 'number')"/>
                    </group>
                    <group col="2" class="mt-0" invisible="not repeat">
                        <separator colspan="2"/>
                        <field name="interval_type" class="oe_field_interval_type"/>
                        <field name="weekday_ids" class="oe_field_weekday_ids"
                            invisible="interval_type != 'week'" widget="many2many_checkboxes"/>
                        <field name="month_type" class="oe_field_month_type"
                            invisible="interval_type != 'month'"/>
                        <field name="week_day_str"
                            class="oe_field_week_day_str text-info font-italic"
                            invisible="(interval_type != 'month') or (month_type != 'week')"/>
                    </group>
                </group>

                <group col="6" id="restrictions" string="Restrictions">
                    <field name="type_ids" class="oe_field_type_ids" colspan="4"
                        widget="many2many_tags"
                        options="{'no_quick_create': True, 'no_create': True, 'no_open': True}"/>
                    <field name="exclude_types" class="oe_field_exclude_types"
                        readonly="not type_ids" string="Exclude"/>
                    <field name="complex_ids" class="oe_field_complex_ids" colspan="4"
                        widget="many2many_tags"
                        options="{'no_quick_create': True, 'no_create': True, 'no_open': True}"/>
                    <field name="exclude_complexes" class="oe_field_exclude_complexes"
                        readonly="not complex_ids" string="Exclude"/>
                </group>

                <footer/>
            </form>
        </field>
    </record>

    <record id="action_search_available_facilities_act_window" model="ir.actions.act_window">
        <field name="type">ir.actions.act_window</field>
        <field name="name">Search available facilities</field>
        <field name="res_model">facility.search.available.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
        <field name="domain">[]</field>
        <field name="context">{}</field>
    </record>

    <!-- Main menu for model.name -->
    <record id="menu_search_available_facilities" model="ir.ui.menu">
        <field name="name">Search available</field>
        <field name="sequence" eval="20"/>
        <field name="action" ref="action_search_available_facilities_act_window"/>
        <field name="parent_id" ref="facility_management.menu_facility_management_facilities"/>
        <field name="groups_id" eval="[(4, ref('facility_management.facility_group_applicant'))]"/>
    </record>

</odoo>
